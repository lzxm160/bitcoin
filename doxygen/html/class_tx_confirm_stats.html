<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>My Project: TxConfirmStats Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_tx_confirm_stats.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_tx_confirm_stats-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TxConfirmStats Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="fees_8h_source.html">fees.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5a7701e1463d687cae1e86204748dc5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tx_confirm_stats.html#a5a7701e1463d687cae1e86204748dc5e">Initialize</a> (std::vector&lt; double &gt; &amp;defaultBuckets, unsigned int maxConfirms, double decay, std::string dataTypeString)</td></tr>
<tr class="separator:a5a7701e1463d687cae1e86204748dc5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf61e975c43103bb2c1e5ac3f5b3cf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tx_confirm_stats.html#a3cf61e975c43103bb2c1e5ac3f5b3cf8">ClearCurrent</a> (unsigned int nBlockHeight)</td></tr>
<tr class="separator:a3cf61e975c43103bb2c1e5ac3f5b3cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64281208674a51e15fb10a619bde2a51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tx_confirm_stats.html#a64281208674a51e15fb10a619bde2a51">Record</a> (int blocksToConfirm, double val)</td></tr>
<tr class="separator:a64281208674a51e15fb10a619bde2a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b014c40cdf3c2207f2677774000261"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tx_confirm_stats.html#ae0b014c40cdf3c2207f2677774000261">NewTx</a> (unsigned int nBlockHeight, double val)</td></tr>
<tr class="separator:ae0b014c40cdf3c2207f2677774000261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421aa07c38b5f51dae2f2bdd725ba169"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tx_confirm_stats.html#a421aa07c38b5f51dae2f2bdd725ba169">removeTx</a> (unsigned int entryHeight, unsigned int nBestSeenHeight, unsigned int bucketIndex)</td></tr>
<tr class="separator:a421aa07c38b5f51dae2f2bdd725ba169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96211021e0e019a566a2126948861ead"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tx_confirm_stats.html#a96211021e0e019a566a2126948861ead">UpdateMovingAverages</a> ()</td></tr>
<tr class="separator:a96211021e0e019a566a2126948861ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac4f70e6029ecf06e8d1528ab9c33f1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tx_confirm_stats.html#a7ac4f70e6029ecf06e8d1528ab9c33f1">EstimateMedianVal</a> (int confTarget, double sufficientTxVal, double minSuccess, bool requireGreater, unsigned int nBlockHeight)</td></tr>
<tr class="separator:a7ac4f70e6029ecf06e8d1528ab9c33f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b42aa0beab3ed825ccc8486dfc0a84"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tx_confirm_stats.html#ab2b42aa0beab3ed825ccc8486dfc0a84">GetMaxConfirms</a> ()</td></tr>
<tr class="separator:ab2b42aa0beab3ed825ccc8486dfc0a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61caf0db4ffeb8c112375e2aedf62499"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tx_confirm_stats.html#a61caf0db4ffeb8c112375e2aedf62499">Write</a> (<a class="el" href="class_c_auto_file.html">CAutoFile</a> &amp;fileout)</td></tr>
<tr class="separator:a61caf0db4ffeb8c112375e2aedf62499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cc392ef180cd7bddd0181c1a73dd741"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tx_confirm_stats.html#a3cc392ef180cd7bddd0181c1a73dd741">Read</a> (<a class="el" href="class_c_auto_file.html">CAutoFile</a> &amp;filein)</td></tr>
<tr class="separator:a3cc392ef180cd7bddd0181c1a73dd741"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>We will instantiate two instances of this class, one to track transactions that were included in a block due to fee, and one for tx's included due to priority. We will lump transactions into a bucket according to their approximate fee or priority and then track how long it took for those txs to be included in a block</p>
<p>The tracking of unconfirmed (mempool) transactions is completely independent of the historical tracking of transactions that have been confirmed in a block. </p>

<p>Definition at line <a class="el" href="fees_8h_source.html#l00080">80</a> of file <a class="el" href="fees_8h_source.html">fees.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3cf61e975c43103bb2c1e5ac3f5b3cf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TxConfirmStats::ClearCurrent </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nBlockHeight</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the state of the curBlock variables to start counting for the new block </p>

<p>Definition at line <a class="el" href="fees_8cpp_source.html#l00042">42</a> of file <a class="el" href="fees_8cpp_source.html">fees.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_a3cf61e975c43103bb2c1e5ac3f5b3cf8_icgraph.png" border="0" usemap="#class_tx_confirm_stats_a3cf61e975c43103bb2c1e5ac3f5b3cf8_icgraph" alt=""/></div>
<map name="class_tx_confirm_stats_a3cf61e975c43103bb2c1e5ac3f5b3cf8_icgraph" id="class_tx_confirm_stats_a3cf61e975c43103bb2c1e5ac3f5b3cf8_icgraph">
<area shape="rect" id="node2" href="class_c_block_policy_estimator.html#a4dbf4773f292c71c51cd17b7eb67dad0" title="CBlockPolicyEstimator\l::processBlock" alt="" coords="244,5,400,47"/>
<area shape="rect" id="node3" href="class_c_tx_mem_pool.html#aea14d073b24e31251465ac3c2279ee65" title="CTxMemPool::removeForBlock" alt="" coords="448,13,649,39"/>
<area shape="rect" id="node4" href="mempool__tests_8cpp.html#a775653dcab3f73c3dc74559ef7dbd6c5" title="BOOST_AUTO_TEST_CASE" alt="" coords="697,13,888,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7ac4f70e6029ecf06e8d1528ab9c33f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double TxConfirmStats::EstimateMedianVal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>confTarget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sufficientTxVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minSuccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>requireGreater</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nBlockHeight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate a fee or priority estimate. Find the lowest value bucket (or range of buckets to make sure we have enough data points) whose transactions still have sufficient likelihood of being confirmed within the target number of confirmations </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">confTarget</td><td>target number of confirmations </td></tr>
    <tr><td class="paramname">sufficientTxVal</td><td>required average number of transactions per block in a bucket range </td></tr>
    <tr><td class="paramname">minSuccess</td><td>the success probability we require </td></tr>
    <tr><td class="paramname">requireGreater</td><td>return the lowest fee/pri such that all higher values pass minSuccess OR return the highest fee/pri such that all lower values fail minSuccess </td></tr>
    <tr><td class="paramname">nBlockHeight</td><td>the current block height </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fees_8cpp_source.html#l00079">79</a> of file <a class="el" href="fees_8cpp_source.html">fees.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_a7ac4f70e6029ecf06e8d1528ab9c33f1_cgraph.png" border="0" usemap="#class_tx_confirm_stats_a7ac4f70e6029ecf06e8d1528ab9c33f1_cgraph" alt=""/></div>
<map name="class_tx_confirm_stats_a7ac4f70e6029ecf06e8d1528ab9c33f1_cgraph" id="class_tx_confirm_stats_a7ac4f70e6029ecf06e8d1528ab9c33f1_cgraph">
<area shape="rect" id="node2" href="class_tx_confirm_stats.html#ab2b42aa0beab3ed825ccc8486dfc0a84" title="TxConfirmStats::GetMaxConfirms" alt="" coords="224,13,440,39"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_a7ac4f70e6029ecf06e8d1528ab9c33f1_icgraph.png" border="0" usemap="#class_tx_confirm_stats_a7ac4f70e6029ecf06e8d1528ab9c33f1_icgraph" alt=""/></div>
<map name="class_tx_confirm_stats_a7ac4f70e6029ecf06e8d1528ab9c33f1_icgraph" id="class_tx_confirm_stats_a7ac4f70e6029ecf06e8d1528ab9c33f1_icgraph">
<area shape="rect" id="node2" href="class_c_block_policy_estimator.html#a4dbf4773f292c71c51cd17b7eb67dad0" title="CBlockPolicyEstimator\l::processBlock" alt="" coords="224,49,380,90"/>
<area shape="rect" id="node5" href="class_c_block_policy_estimator.html#a55418a0d0c84ff184d67b1bd366ca525" title="CBlockPolicyEstimator\l::estimateFee" alt="" coords="224,129,380,170"/>
<area shape="rect" id="node9" href="class_c_block_policy_estimator.html#acc6d4370b7b3942507647904043b181a" title="CBlockPolicyEstimator\l::estimateSmartFee" alt="" coords="224,194,380,235"/>
<area shape="rect" id="node15" href="class_c_block_policy_estimator.html#adcaa52e6fdabbf8b0907bb5521aaa4f9" title="CBlockPolicyEstimator\l::estimatePriority" alt="" coords="224,259,380,301"/>
<area shape="rect" id="node18" href="class_c_block_policy_estimator.html#a81d98a40d7560a1edec92d565bb7ba4b" title="CBlockPolicyEstimator\l::estimateSmartPriority" alt="" coords="224,338,380,379"/>
<area shape="rect" id="node3" href="class_c_tx_mem_pool.html#aea14d073b24e31251465ac3c2279ee65" title="CTxMemPool::removeForBlock" alt="" coords="435,20,636,47"/>
<area shape="rect" id="node4" href="mempool__tests_8cpp.html#a775653dcab3f73c3dc74559ef7dbd6c5" title="BOOST_AUTO_TEST_CASE" alt="" coords="691,5,881,32"/>
<area shape="rect" id="node6" href="class_c_tx_mem_pool.html#ae0a5ad226288e4b209c6629328269469" title="CTxMemPool::estimateFee" alt="" coords="445,136,625,163"/>
<area shape="rect" id="node7" href="mining_8cpp.html#abf27209855c39328246f9bf542c83475" title="estimatefee" alt="" coords="741,56,831,83"/>
<area shape="rect" id="node8" href="policyestimator__tests_8cpp.html#a16bb8afdd1c29d823bb04824dc255a28" title="BOOST_AUTO_TEST_CASE" alt="" coords="691,259,881,285"/>
<area shape="rect" id="node10" href="class_c_tx_mem_pool.html#ad71c73ef57c626a00f5a4e5c3daae748" title="CTxMemPool::estimateSmartFee" alt="" coords="428,201,643,228"/>
<area shape="rect" id="node11" href="class_coin_control_dialog.html#a4fc60e89b097952ff22dc0f9c58c87d9" title="CoinControlDialog::\lupdateLabels" alt="" coords="969,201,1102,242"/>
<area shape="rect" id="node13" href="mining_8cpp.html#ac42427ba4c097cf34d08567b3e876d6f" title="estimatesmartfee" alt="" coords="725,107,847,133"/>
<area shape="rect" id="node14" href="group___actions.html#ga64a76474added26d9fbf904b5dd978a8" title="CWallet::GetMinimumFee" alt="" coords="700,208,872,235"/>
<area shape="rect" id="node12" href="class_coin_control_dialog.html#a4c34a48574814089c54f763a22f5317a" title="CoinControlDialog::\lsetModel" alt="" coords="1189,201,1323,242"/>
<area shape="rect" id="node16" href="class_c_tx_mem_pool.html#aa30175b2668fcefb3d4f224d38d5732e" title="CTxMemPool::estimatePriority" alt="" coords="436,267,635,293"/>
<area shape="rect" id="node17" href="mining_8cpp.html#ad42aeaf15121dc760b090f64ef9d5484" title="estimatepriority" alt="" coords="731,309,841,336"/>
<area shape="rect" id="node19" href="class_c_tx_mem_pool.html#a2f31d51036f974e87b0c09333938a038" title="CTxMemPool::estimateSmart\lPriority" alt="" coords="439,353,632,394"/>
<area shape="rect" id="node20" href="mining_8cpp.html#a517e3ca69b9b9ebe24dd3b5a22f348cb" title="estimatesmartpriority" alt="" coords="714,461,858,488"/>
<area shape="rect" id="node21" href="group___actions.html#ga0a899bf61e6cd56fa9a30e45e61e25be" title="CWallet::CreateTransaction" alt="" coords="695,411,877,437"/>
<area shape="rect" id="node22" href="class_wallet_model.html#a8abc851901c7c7343ebfb5a8e5fc0154" title="WalletModel::prepareTransaction" alt="" coords="929,436,1141,463"/>
<area shape="rect" id="node23" href="rpcwallet_8cpp.html#a02c1a7b5244896e62bc5ae698f7a76c9" title="sendmany" alt="" coords="994,385,1077,412"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab2b42aa0beab3ed825ccc8486dfc0a84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int TxConfirmStats::GetMaxConfirms </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the max number of confirms we're tracking </p>

<p>Definition at line <a class="el" href="fees_8h_source.html#l00167">167</a> of file <a class="el" href="fees_8h_source.html">fees.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_ab2b42aa0beab3ed825ccc8486dfc0a84_icgraph.png" border="0" usemap="#class_tx_confirm_stats_ab2b42aa0beab3ed825ccc8486dfc0a84_icgraph" alt=""/></div>
<map name="class_tx_confirm_stats_ab2b42aa0beab3ed825ccc8486dfc0a84_icgraph" id="class_tx_confirm_stats_ab2b42aa0beab3ed825ccc8486dfc0a84_icgraph">
<area shape="rect" id="node2" href="class_tx_confirm_stats.html#a7ac4f70e6029ecf06e8d1528ab9c33f1" title="TxConfirmStats::Estimate\lMedianVal" alt="" coords="269,211,440,253"/>
<area shape="rect" id="node6" href="class_c_block_policy_estimator.html#a55418a0d0c84ff184d67b1bd366ca525" title="CBlockPolicyEstimator\l::estimateFee" alt="" coords="488,81,644,122"/>
<area shape="rect" id="node10" href="class_c_block_policy_estimator.html#acc6d4370b7b3942507647904043b181a" title="CBlockPolicyEstimator\l::estimateSmartFee" alt="" coords="488,146,644,187"/>
<area shape="rect" id="node16" href="class_c_block_policy_estimator.html#adcaa52e6fdabbf8b0907bb5521aaa4f9" title="CBlockPolicyEstimator\l::estimatePriority" alt="" coords="488,277,644,318"/>
<area shape="rect" id="node19" href="class_c_block_policy_estimator.html#a81d98a40d7560a1edec92d565bb7ba4b" title="CBlockPolicyEstimator\l::estimateSmartPriority" alt="" coords="488,342,644,383"/>
<area shape="rect" id="node3" href="class_c_block_policy_estimator.html#a4dbf4773f292c71c51cd17b7eb67dad0" title="CBlockPolicyEstimator\l::processBlock" alt="" coords="488,211,644,253"/>
<area shape="rect" id="node4" href="class_c_tx_mem_pool.html#aea14d073b24e31251465ac3c2279ee65" title="CTxMemPool::removeForBlock" alt="" coords="699,215,900,241"/>
<area shape="rect" id="node5" href="mempool__tests_8cpp.html#a775653dcab3f73c3dc74559ef7dbd6c5" title="BOOST_AUTO_TEST_CASE" alt="" coords="955,208,1145,235"/>
<area shape="rect" id="node7" href="class_c_tx_mem_pool.html#ae0a5ad226288e4b209c6629328269469" title="CTxMemPool::estimateFee" alt="" coords="709,88,889,115"/>
<area shape="rect" id="node8" href="mining_8cpp.html#abf27209855c39328246f9bf542c83475" title="estimatefee" alt="" coords="1005,5,1095,32"/>
<area shape="rect" id="node9" href="policyestimator__tests_8cpp.html#a16bb8afdd1c29d823bb04824dc255a28" title="BOOST_AUTO_TEST_CASE" alt="" coords="955,259,1145,285"/>
<area shape="rect" id="node11" href="class_c_tx_mem_pool.html#ad71c73ef57c626a00f5a4e5c3daae748" title="CTxMemPool::estimateSmartFee" alt="" coords="692,153,907,180"/>
<area shape="rect" id="node12" href="class_coin_control_dialog.html#a4fc60e89b097952ff22dc0f9c58c87d9" title="CoinControlDialog::\lupdateLabels" alt="" coords="1233,150,1366,191"/>
<area shape="rect" id="node14" href="mining_8cpp.html#ac42427ba4c097cf34d08567b3e876d6f" title="estimatesmartfee" alt="" coords="989,56,1111,83"/>
<area shape="rect" id="node15" href="group___actions.html#ga64a76474added26d9fbf904b5dd978a8" title="CWallet::GetMinimumFee" alt="" coords="964,157,1136,184"/>
<area shape="rect" id="node13" href="class_coin_control_dialog.html#a4c34a48574814089c54f763a22f5317a" title="CoinControlDialog::\lsetModel" alt="" coords="1453,150,1587,191"/>
<area shape="rect" id="node17" href="class_c_tx_mem_pool.html#aa30175b2668fcefb3d4f224d38d5732e" title="CTxMemPool::estimatePriority" alt="" coords="700,284,899,311"/>
<area shape="rect" id="node18" href="mining_8cpp.html#ad42aeaf15121dc760b090f64ef9d5484" title="estimatepriority" alt="" coords="995,309,1105,336"/>
<area shape="rect" id="node20" href="class_c_tx_mem_pool.html#a2f31d51036f974e87b0c09333938a038" title="CTxMemPool::estimateSmart\lPriority" alt="" coords="703,353,896,394"/>
<area shape="rect" id="node21" href="mining_8cpp.html#a517e3ca69b9b9ebe24dd3b5a22f348cb" title="estimatesmartpriority" alt="" coords="978,461,1122,488"/>
<area shape="rect" id="node22" href="group___actions.html#ga0a899bf61e6cd56fa9a30e45e61e25be" title="CWallet::CreateTransaction" alt="" coords="959,411,1141,437"/>
<area shape="rect" id="node23" href="class_wallet_model.html#a8abc851901c7c7343ebfb5a8e5fc0154" title="WalletModel::prepareTransaction" alt="" coords="1193,436,1405,463"/>
<area shape="rect" id="node24" href="rpcwallet_8cpp.html#a02c1a7b5244896e62bc5ae698f7a76c9" title="sendmany" alt="" coords="1258,385,1341,412"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5a7701e1463d687cae1e86204748dc5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TxConfirmStats::Initialize </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>defaultBuckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>maxConfirms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>decay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>dataTypeString</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the data structures. This is called by BlockPolicyEstimator's constructor with default values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">defaultBuckets</td><td>contains the upper limits for the bucket boundaries </td></tr>
    <tr><td class="paramname">maxConfirms</td><td>max number of confirms to track </td></tr>
    <tr><td class="paramname">decay</td><td>how much to decay the historical moving average per block </td></tr>
    <tr><td class="paramname">dataTypeString</td><td>for logging purposes </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fees_8cpp_source.html#l00016">16</a> of file <a class="el" href="fees_8cpp_source.html">fees.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_a5a7701e1463d687cae1e86204748dc5e_icgraph.png" border="0" usemap="#class_tx_confirm_stats_a5a7701e1463d687cae1e86204748dc5e_icgraph" alt=""/></div>
<map name="class_tx_confirm_stats_a5a7701e1463d687cae1e86204748dc5e_icgraph" id="class_tx_confirm_stats_a5a7701e1463d687cae1e86204748dc5e_icgraph">
<area shape="rect" id="node2" href="class_c_block_policy_estimator.html#a63578e09e192cb16bdd28ccf49e85c06" title="CBlockPolicyEstimator\l::CBlockPolicyEstimator" alt="" coords="220,5,384,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae0b014c40cdf3c2207f2677774000261"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int TxConfirmStats::NewTx </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nBlockHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Record a new transaction entering the mempool </p>

<p>Definition at line <a class="el" href="fees_8cpp_source.html#l00249">249</a> of file <a class="el" href="fees_8cpp_source.html">fees.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_ae0b014c40cdf3c2207f2677774000261_icgraph.png" border="0" usemap="#class_tx_confirm_stats_ae0b014c40cdf3c2207f2677774000261_icgraph" alt=""/></div>
<map name="class_tx_confirm_stats_ae0b014c40cdf3c2207f2677774000261_icgraph" id="class_tx_confirm_stats_ae0b014c40cdf3c2207f2677774000261_icgraph">
<area shape="rect" id="node2" href="class_c_block_policy_estimator.html#ab2a8e9135f06f38dc51031125e803a6b" title="CBlockPolicyEstimator\l::processTransaction" alt="" coords="212,5,368,47"/>
<area shape="rect" id="node3" href="class_c_tx_mem_pool.html#a7cc3e776299144a8db82be568063e671" title="CTxMemPool::addUnchecked" alt="" coords="416,13,611,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3cc392ef180cd7bddd0181c1a73dd741"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TxConfirmStats::Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_auto_file.html">CAutoFile</a> &amp;&#160;</td>
          <td class="paramname"><em>filein</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read saved state of estimation data from a file and replace all internal data structures and variables with this state. </p>

<p>Definition at line <a class="el" href="fees_8cpp_source.html#l00186">186</a> of file <a class="el" href="fees_8cpp_source.html">fees.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_a3cc392ef180cd7bddd0181c1a73dd741_icgraph.png" border="0" usemap="#class_tx_confirm_stats_a3cc392ef180cd7bddd0181c1a73dd741_icgraph" alt=""/></div>
<map name="class_tx_confirm_stats_a3cc392ef180cd7bddd0181c1a73dd741_icgraph" id="class_tx_confirm_stats_a3cc392ef180cd7bddd0181c1a73dd741_icgraph">
<area shape="rect" id="node2" href="class_c_block_policy_estimator.html#a3d6a47569d0677f8c40a6a170e8abf4d" title="CBlockPolicyEstimator\l::Read" alt="" coords="203,23,359,65"/>
<area shape="rect" id="node3" href="class_c_tx_mem_pool.html#a0dbbcb6a3b7e1a6c564410668c12cd4f" title="CTxMemPool::ReadFeeEstimates" alt="" coords="407,31,625,57"/>
<area shape="rect" id="node4" href="init_8h.html#a6f0784aa332573f949b0975205572b28" title="AppInit2" alt="" coords="673,31,743,57"/>
<area shape="rect" id="node5" href="bitcoind_8cpp.html#ac59316b767e6984e1285f0531275286b" title="AppInit" alt="" coords="831,5,894,32"/>
<area shape="rect" id="node7" href="class_bitcoin_core.html#af34ca069cda1d4362dcc109b4397fb62" title="BitcoinCore::initialize" alt="" coords="791,56,935,83"/>
<area shape="rect" id="node6" href="bitcoind_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="983,5,1033,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a64281208674a51e15fb10a619bde2a51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TxConfirmStats::Record </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blocksToConfirm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Record a new transaction data point in the current block stats </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blocksToConfirm</td><td>the number of blocks it took this transaction to confirm </td></tr>
    <tr><td class="paramname">val</td><td>either the fee or the priority when entered of the transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>blocksToConfirm is 1-based and has to be &gt;= 1 </dd></dl>

<p>Definition at line <a class="el" href="fees_8cpp_source.html#l00055">55</a> of file <a class="el" href="fees_8cpp_source.html">fees.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_a64281208674a51e15fb10a619bde2a51_icgraph.png" border="0" usemap="#class_tx_confirm_stats_a64281208674a51e15fb10a619bde2a51_icgraph" alt=""/></div>
<map name="class_tx_confirm_stats_a64281208674a51e15fb10a619bde2a51_icgraph" id="class_tx_confirm_stats_a64281208674a51e15fb10a619bde2a51_icgraph">
<area shape="rect" id="node2" href="class_c_block_policy_estimator.html#a743b4afec36ec5ac64d2ff63c7f61aae" title="CBlockPolicyEstimator\l::processBlockTx" alt="" coords="213,5,369,47"/>
<area shape="rect" id="node3" href="class_c_block_policy_estimator.html#a4dbf4773f292c71c51cd17b7eb67dad0" title="CBlockPolicyEstimator\l::processBlock" alt="" coords="417,5,573,47"/>
<area shape="rect" id="node4" href="class_c_tx_mem_pool.html#aea14d073b24e31251465ac3c2279ee65" title="CTxMemPool::removeForBlock" alt="" coords="621,13,823,39"/>
<area shape="rect" id="node5" href="mempool__tests_8cpp.html#a775653dcab3f73c3dc74559ef7dbd6c5" title="BOOST_AUTO_TEST_CASE" alt="" coords="871,13,1061,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a421aa07c38b5f51dae2f2bdd725ba169"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TxConfirmStats::removeTx </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>entryHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nBestSeenHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>bucketIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a transaction from mempool tracking stats </p>

<p>Definition at line <a class="el" href="fees_8cpp_source.html#l00258">258</a> of file <a class="el" href="fees_8cpp_source.html">fees.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_a421aa07c38b5f51dae2f2bdd725ba169_icgraph.png" border="0" usemap="#class_tx_confirm_stats_a421aa07c38b5f51dae2f2bdd725ba169_icgraph" alt=""/></div>
<map name="class_tx_confirm_stats_a421aa07c38b5f51dae2f2bdd725ba169_icgraph" id="class_tx_confirm_stats_a421aa07c38b5f51dae2f2bdd725ba169_icgraph">
<area shape="rect" id="node2" href="class_c_block_policy_estimator.html#a52cc7162762f37f5a246dc7a16838aa9" title="CBlockPolicyEstimator\l::removeTx" alt="" coords="228,5,384,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a96211021e0e019a566a2126948861ead"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TxConfirmStats::UpdateMovingAverages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update our estimates by decaying our historical moving average and updating with the data gathered from the current block </p>

<p>Definition at line <a class="el" href="fees_8cpp_source.html#l00068">68</a> of file <a class="el" href="fees_8cpp_source.html">fees.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_a96211021e0e019a566a2126948861ead_icgraph.png" border="0" usemap="#class_tx_confirm_stats_a96211021e0e019a566a2126948861ead_icgraph" alt=""/></div>
<map name="class_tx_confirm_stats_a96211021e0e019a566a2126948861ead_icgraph" id="class_tx_confirm_stats_a96211021e0e019a566a2126948861ead_icgraph">
<area shape="rect" id="node2" href="class_c_block_policy_estimator.html#a4dbf4773f292c71c51cd17b7eb67dad0" title="CBlockPolicyEstimator\l::processBlock" alt="" coords="253,5,409,47"/>
<area shape="rect" id="node3" href="class_c_tx_mem_pool.html#aea14d073b24e31251465ac3c2279ee65" title="CTxMemPool::removeForBlock" alt="" coords="457,13,659,39"/>
<area shape="rect" id="node4" href="mempool__tests_8cpp.html#a775653dcab3f73c3dc74559ef7dbd6c5" title="BOOST_AUTO_TEST_CASE" alt="" coords="707,13,897,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a61caf0db4ffeb8c112375e2aedf62499"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TxConfirmStats::Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_auto_file.html">CAutoFile</a> &amp;&#160;</td>
          <td class="paramname"><em>fileout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write state of estimation data to a file </p>

<p>Definition at line <a class="el" href="fees_8cpp_source.html#l00177">177</a> of file <a class="el" href="fees_8cpp_source.html">fees.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tx_confirm_stats_a61caf0db4ffeb8c112375e2aedf62499_icgraph.png" border="0" usemap="#class_tx_confirm_stats_a61caf0db4ffeb8c112375e2aedf62499_icgraph" alt=""/></div>
<map name="class_tx_confirm_stats_a61caf0db4ffeb8c112375e2aedf62499_icgraph" id="class_tx_confirm_stats_a61caf0db4ffeb8c112375e2aedf62499_icgraph">
<area shape="rect" id="node2" href="class_c_block_policy_estimator.html#a476fd39364402e84d3740fb2b52ba23d" title="CBlockPolicyEstimator\l::Write" alt="" coords="204,23,360,65"/>
<area shape="rect" id="node3" href="class_c_tx_mem_pool.html#a0a05d7b50b9c2a387182402e60475da6" title="CTxMemPool::WriteFeeEstimates" alt="" coords="408,31,628,57"/>
<area shape="rect" id="node4" href="init_8h.html#ac5f038c2b480cf9ef5e19e3eba8dbaf9" title="Shutdown" alt="" coords="676,31,755,57"/>
<area shape="rect" id="node5" href="bitcoind_8cpp.html#ac59316b767e6984e1285f0531275286b" title="AppInit" alt="" coords="847,5,910,32"/>
<area shape="rect" id="node7" href="class_bitcoin_core.html#a94f3f4622ba698e321f3a2e0e686129f" title="BitcoinCore::shutdown" alt="" coords="803,56,955,83"/>
<area shape="rect" id="node6" href="bitcoind_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1003,5,1053,32"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/renesola/work/bitcoin/src/policy/<a class="el" href="fees_8h_source.html">fees.h</a></li>
<li>E:/renesola/work/bitcoin/src/policy/<a class="el" href="fees_8cpp_source.html">fees.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_tx_confirm_stats.html">TxConfirmStats</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
